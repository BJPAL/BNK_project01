<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href="../../static/css/fund/fund_list.css" />
        <title>í€ë“œ íˆ¬ì - ë§ì¶¤ ì¶”ì²œ</title>

        <!-- 
        <style>
            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }

            body {
                font-family: "Malgun Gothic", sans-serif;
                background-color: #f8f9fa;
                color: #333;
                line-height: 1.6;
            }

            .container {
                max-width: 1000px;
                margin: 0 auto;
                padding: 20px;
            }

            /* í—¤ë” ì„¹ì…˜ */
            .header {
                /* background: white; */
                /* padding: 24px; */
                /* border-radius: 12px; */
                /* margin-bottom: 24px; */
                /* box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06); */
            }

            .header h1 {
                font-size: 28px;
                color: #1a1a1a;
                /* margin-bottom: 8px; */
            }

            .header-info {
                color: #666;
                font-size: 14px;
            }

            .invest-type-badge {
                display: inline-block;
                background: #e3f2fd;
                color: #1976d2;
                padding: 6px 12px;
                border-radius: 16px;
                font-size: 13px;
                font-weight: 600;
                margin-left: 8px;
            }

            /* í•„í„° ì„¹ì…˜ */
            .filter-section {
                /* background: white; */
                /* padding: 20px 24px; */
                /* border-radius: 12px; */
                /* margin-bottom: 24px; */
                /* box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06); */
            }

            .filter-info {
                display: flex;
                align-items: center;
                justify-content: space-between;
                margin-bottom: 16px;
            }

            .total-count {
                font-size: 16px;
                color: #333;
            }

            .total-count .count {
                color: #1976d2;
                font-weight: 600;
            }

            .view-options {
                display: flex;
                gap: 8px;
                align-items: center;
            }

            .view-toggle {
                padding: 8px 12px;
                border: 1px solid #ddd;
                background: white;
                border-radius: 6px;
                cursor: pointer;
                font-size: 12px;
            }

            .view-toggle.active {
                background: #1976d2;
                color: white;
                border-color: #1976d2;
            }

            /* í€ë“œ ë¦¬ìŠ¤íŠ¸ í…Œì´ë¸” */
            .fund-table {
                background: white;
                border-radius: 12px;
                overflow: hidden;
                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
            }

            .table-header {
                background: #f8f9fa;
                border-bottom: 1px solid #e9ecef;
            }

            .table-header-row {
                display: grid;
                grid-template-columns: 4fr 0.8fr 0.8fr 0.8fr 0.8fr 0.8fr 1fr 0.8fr;
                padding: 16px;
                font-weight: 600;
                font-size: 14px;
                color: #495057;
                align-items: center;
                border-right: 1px solid #e9ecef;
            }

            .table-header-row > div {
                border-right: 1px solid #e9ecef;
                padding-right: 8px;
                text-align: center;
            }

            .table-header-row > div:first-child {
                /* text-align: left; */
                /* padding-left: 0; */
            }

            .table-header-row > div:last-child {
                border-right: none;
            }

            /* ìˆ˜ìµë¥ (%) í—¤ë” ìŠ¤íƒ€ì¼ */
            .returns-header {
                position: relative;
                display: flex;
                flex-direction: column;
                align-items: center;
                grid-column: span 5;
                border-right: 1px solid #e9ecef;
                padding: 8px;
            }

            .returns-title {
                font-weight: 700;
                font-size: 15px;
                color: #333;
                margin-bottom: 8px;
                border-bottom: 1px solid #e9ecef;
                padding-bottom: 4px;
                width: 100%;
                text-align: center;
            }

            .returns-periods {
                display: grid;
                grid-template-columns: repeat(5, 1fr);
                width: 100%;
                gap: 1px;
            }

            .period-header {
                font-size: 12px;
                color: #666;
                text-align: center;
                padding: 2px;
            }

            .fund-item {
                display: grid;
                grid-template-columns: 4fr 0.8fr 0.8fr 0.8fr 0.8fr 0.8fr 1fr 0.8fr;
                padding: 16px;
                border-bottom: 1px solid #f1f3f4;
                align-items: center;
                transition: background-color 0.2s ease;
            }

            .fund-item > div {
                border-right: 1px solid #f1f3f4;
                padding-right: 8px;
            }

            .fund-item > div:first-child {
                padding-left: 0;
            }

            .fund-item > div:last-child {
                border-right: none;
            }

            .fund-item:hover {
                background-color: #f8f9fa;
            }

            .fund-item:last-child {
                border-bottom: none;
            }

            /* í€ë“œ ì •ë³´ ì˜ì—­ */
            .fund-info {
                padding-right: 16px;
            }

            .fund-name {
                font-size: 16px;
                font-weight: 600;
                color: #1a1a1a;
                margin-bottom: 8px;
                line-height: 1.4;
                cursor: pointer;
                transition: color 0.2s ease;
            }

            .fund-name:hover {
                color: #1976d2;
                text-decoration: underline;
            }

            .fund-name-link {
                color: inherit;
                text-decoration: none;
                display: block;
            }

            .fund-name-link:hover {
                color: #1976d2;
            }

            .fund-details {
                display: flex;
                flex-wrap: wrap;
                gap: 8px;
                font-size: 12px;
                color: #666;
            }

            .fund-tag {
                background: #f1f3f4;
                padding: 3px 8px;
                border-radius: 4px;
                white-space: nowrap;
            }

            .risk-level {
                background: #fff3e0;
                color: #ef6c00;
                padding: 3px 8px;
                border-radius: 4px;
                font-weight: 500;
            }

            /* ìˆ˜ìµë¥  í‘œì‹œ */
            .return-value {
                text-align: center;
                font-weight: 600;
                font-size: 14px;
            }

            .return-positive {
                color: #d32f2f;
            }

            .return-negative {
                color: #1976d2;
            }

            .return-neutral {
                color: #666;
            }

            /* ê¸°íƒ€ ì •ë³´ */
            .fund-scale {
                text-align: center;
                color: #666;
                font-size: 13px;
            }

            .fund-fee {
                text-align: center;
                color: #666;
                font-size: 13px;
            }

            /* ë”ë³´ê¸° ë²„íŠ¼ */
            .load-more-container {
                text-align: center;
                margin-top: 32px;
            }

            .load-more-btn {
                background: #d32f2f;
                color: white;
                border: none;
                padding: 14px 32px;
                border-radius: 8px;
                font-size: 14px;
                font-weight: 500;
                cursor: pointer;
                transition: background 0.2s;
                display: inline-flex;
                align-items: center;
                gap: 8px;
            }

            .load-more-btn:hover {
                background: #b71c1c;
            }

            .load-more-btn:disabled {
                background: #ccc;
                cursor: not-allowed;
            }

            /* ë¡œë”© ìŠ¤í”¼ë„ˆ */
            .loading-spinner {
                width: 16px;
                height: 16px;
                border: 2px solid #ffffff;
                border-top: 2px solid transparent;
                border-radius: 50%;
                animation: spin 1s linear infinite;
            }

            @keyframes spin {
                0% {
                    transform: rotate(0deg);
                }
                100% {
                    transform: rotate(360deg);
                }
            }

            /* ì—ëŸ¬ ë° ìƒíƒœ ë©”ì‹œì§€ */
            .message {
                padding: 16px;
                border-radius: 8px;
                margin-bottom: 16px;
                text-align: center;
            }

            .message.error {
                background: #ffebee;
                color: #c62828;
                border: 1px solid #ffcdd2;
            }

            .message.info {
                background: #e3f2fd;
                color: #1976d2;
                border: 1px solid #bbdefb;
            }

            .no-data {
                text-align: center;
                padding: 60px 20px;
                color: #666;
                background: white;
                border-radius: 12px;
            }

            .no-data-icon {
                font-size: 48px;
                margin-bottom: 16px;
                opacity: 0.3;
            }

            /* ë°˜ì‘í˜• ë””ìì¸ */
            @media (max-width: 1000px) {
                .table-header-row,
                .fund-item {
                    grid-template-columns: 4fr 0.6fr 0.6fr 0.6fr 0.6fr 0.6fr 0.8fr 0.6fr;
                }

                .returns-periods {
                    font-size: 11px;
                }

                .fund-scale,
                .fund-fee {
                    font-size: 12px;
                }
            }

            @media (max-width: 768px) {
                .container {
                    padding: 16px;
                }

                .table-header-row,
                .fund-item {
                    grid-template-columns: 1fr;
                    gap: 12px;
                }

                .returns-header {
                    grid-column: span 1;
                }

                .fund-table {
                    overflow-x: auto;
                }

                .returns-periods {
                    grid-template-columns: repeat(5, 1fr);
                    gap: 4px;
                }
            }
        </style>
        -->
    </head>
    <body>
        <div class="container">
            <!-- ì œëª© ì˜ì—­ -->
            <div class="title-container">
                <h1 class="title">ë§ì¶¤ í€ë“œ ì¶”ì²œ</h1>
                <p class="title-sub">
                    ì›í•˜ëŠ” ì¡°ê±´ì„ ì„ íƒí•˜ê³  ì›í•˜ëŠ” í€ë“œë¥¼ ì°¾ì•„ë³´ì„¸ìš”.
                </p>
            </div>

            <!-- í•„í„° ì˜ì—­ -->
            <form id="fundForm" class="filter-container">
                <!-- ìœ„í—˜ë“±ê¸‰ -->
                <fieldset class="row">
                    <legend class="row-label">ìœ„í—˜ë“±ê¸‰</legend>
                    <div class="options">
                        <label for="risk1">
                            <input
                                type="checkbox"
                                id="risk1"
                                name="risk[]"
                                value="1"
                            />
                            ë§¤ìš°ë†’ì€ìœ„í—˜(1ë“±ê¸‰)
                        </label>

                        <label for="risk2">
                            <input
                                type="checkbox"
                                id="risk2"
                                name="risk[]"
                                value="2"
                            />
                            ë†’ì€ìœ„í—˜(2ë“±ê¸‰)
                        </label>

                        <label for="risk3">
                            <input
                                type="checkbox"
                                id="risk3"
                                name="risk[]"
                                value="3"
                            />
                            ë‹¤ì†Œë†’ì€ìœ„í—˜(3ë“±ê¸‰)
                        </label>

                        <label for="risk4">
                            <input
                                type="checkbox"
                                id="risk4"
                                name="risk[]"
                                value="4"
                            />
                            ë³´í†µìœ„í—˜(4ë“±ê¸‰)
                        </label>

                        <label for="risk5">
                            <input
                                type="checkbox"
                                id="risk5"
                                name="risk[]"
                                value="5"
                            />
                            ë‚®ì€ìœ„í—˜(5ë“±ê¸‰)
                        </label>

                        <label for="risk6">
                            <input
                                type="checkbox"
                                id="risk6"
                                name="risk[]"
                                value="6"
                            />
                            ë§¤ìš°ë‚®ì€ìœ„í—˜(6ë“±ê¸‰)
                        </label>
                    </div>
                </fieldset>

                <!-- í€ë“œìœ í˜• -->
                <fieldset class="row">
                    <legend class="row-label">í€ë“œìœ í˜•</legend>
                    <div class="options">
                        <label for="type_mmf">
                            <input
                                type="checkbox"
                                id="type_mmf"
                                name="type[]"
                                value="MMF"
                            />
                            MMF
                        </label>

                        <label for="type_bond">
                            <input
                                type="checkbox"
                                id="type_bond"
                                name="type[]"
                                value="ì±„ê¶Œí˜•"
                            />
                            ì±„ê¶Œí˜•
                        </label>

                        <label for="type_bmix">
                            <input
                                type="checkbox"
                                id="type_bmix"
                                name="type[]"
                                value="ì±„ê¶Œí˜¼í•©í˜•"
                            />
                            ì±„ê¶Œí˜¼í•©í˜•
                        </label>

                        <label for="type_smix">
                            <input
                                type="checkbox"
                                id="type_smix"
                                name="type[]"
                                value="ì£¼ì‹í˜¼í•©í˜•"
                            />
                            ì£¼ì‹í˜¼í•©í˜•
                        </label>

                        <label for="type_stock">
                            <input
                                type="checkbox"
                                id="type_stock"
                                name="type[]"
                                value="ì£¼ì‹í˜•"
                            />
                            ì£¼ì‹í˜•
                        </label>

                        <label for="type_deriv">
                            <input
                                type="checkbox"
                                id="type_deriv"
                                name="type[]"
                                value="íŒŒìƒìƒí’ˆí˜•"
                            />
                            íŒŒìƒìƒí’ˆí˜•
                        </label>

                        <label for="type_fof">
                            <input
                                type="checkbox"
                                id="type_fof"
                                name="type[]"
                                value="ì¬ê°„ì ‘"
                            />
                            ì¬ê°„ì ‘
                        </label>
                    </div>
                </fieldset>

                <!-- íˆ¬ì ì§€ì—­ -->
                <fieldset class="row">
                    <legend class="row-label">íˆ¬ì ì§€ì—­</legend>
                    <div class="options">
                        <label for="reg_kr">
                            <input
                                type="checkbox"
                                id="reg_kr"
                                name="region[]"
                                value="KR"
                            />
                            êµ­ë‚´
                        </label>

                        <label for="reg_gl">
                            <input
                                type="checkbox"
                                id="reg_gl"
                                name="region[]"
                                value="GL"
                            />
                            ê¸€ë¡œë²Œ
                        </label>
                    </div>
                </fieldset>

                <!-- ê²€ìƒ‰ ë²„íŠ¼ -->
                <div class="row filter-btn-container">
                    <button type="submit" class="filter-search-btn">
                        í•„í„° ê²€ìƒ‰
                    </button>
                </div>
            </form>

            <!-- ê²€ìƒ‰ ê²°ê³¼ ë©”ì„¸ì§€ ì˜ì—­ -->
            <div class="message"></div>

            <!-- í€ë“œ ë¦¬ìŠ¤íŠ¸ ì˜ì—­ -->
            <div id="fund-list" class="fund-list">
                <!-- ì¹´ë“œ 1ê°œ ì˜ˆì‹œ -->
                <div class="fund-item" data-id="1">
                    <!-- ë©”íƒ€ ë°ì´í„° -->
                    <section class="fund-item-section fund-meta">
                        <div class="fund-name-container">
                            <h3 class="fund-name">
                                ì‚¼ì„±KRX300 2ë°°ë ˆë²„ë¦¬ì§€ì¦ê¶Œíˆ¬ìì‹ íƒ
                            </h3>
                        </div>
                        <ul class="fund-detail">
                            <li>ì„¤ì •ì¼&nbsp;2021-09-29</li>
                            <li>ê¸°ì¤€ê°€&nbsp;1,303.92</li>
                            <li>ìˆœìì‚°&nbsp;45.2ì–µ</li>
                        </ul>
                        <div class="badge-list">
                            <span class="badge company">ì‚¼ì„±ìì‚°ìš´ìš©</span>
                            <span class="badge type">ì£¼ì‹í˜•</span>
                            <span class="badge region">ê¸€ë¡œë²Œ</span>
                            <span class="badge risk risk-2"
                                >ë†’ì€ìœ„í—˜(2ë“±ê¸‰)</span
                            >
                        </div>
                    </section>

                    <!-- ìˆ˜ìµë¥  -->
                    <section class="fund-item-section fund-return">
                        <div class="stat">
                            <span>1ê°œì›”</span>
                            <strong class="pos">22.81%</strong>
                        </div>
                        <div class="stat">
                            <span>3ê°œì›”</span>
                            <strong class="pos">69.95%</strong>
                        </div>
                        <div class="stat">
                            <span>6ê°œì›”</span>
                            <strong class="pos">62.87%</strong>
                        </div>
                        <div class="stat">
                            <span>12ê°œì›”</span>
                            <strong class="pos">75.22%</strong>
                        </div>
                        <div class="stat">
                            <span>ëˆ„ì </span>
                            <strong class="pos">32.08%</strong>
                        </div>
                    </section>
                </div>

                <!-- ì¹´ë“œ 1ê°œ ì˜ˆì‹œ -->
                <div class="fund-item" data-id="1">
                    <!-- ë©”íƒ€ ë°ì´í„° -->
                    <section class="fund-item-section fund-meta">
                        <div class="fund-name-container">
                            <h3 class="fund-name">
                                ì‚¼ì„±KRX300 2ë°°ë ˆë²„ë¦¬ì§€ì¦ê¶Œíˆ¬ìì‹ íƒ
                            </h3>
                        </div>
                        <ul class="fund-detail">
                            <li>ì„¤ì •ì¼&nbsp;2021-09-29</li>
                            <li>ê¸°ì¤€ê°€&nbsp;1,303.92</li>
                            <li>ìˆœìì‚°&nbsp;45.2ì–µ</li>
                        </ul>
                        <div class="badge-list">
                            <span class="badge company">ì‚¼ì„±ìì‚°ìš´ìš©</span>
                            <span class="badge type">ì£¼ì‹í˜•</span>
                            <span class="badge region">ê¸€ë¡œë²Œ</span>
                            <span class="badge risk risk-2"
                                >ë†’ì€ìœ„í—˜(2ë“±ê¸‰)</span
                            >
                        </div>
                    </section>

                    <!-- ìˆ˜ìµë¥  -->
                    <section class="fund-item-section fund-return">
                        <div class="stat">
                            <span>1ê°œì›”</span>
                            <strong class="pos">22.81%</strong>
                        </div>
                        <div class="stat">
                            <span>3ê°œì›”</span>
                            <strong class="pos">69.95%</strong>
                        </div>
                        <div class="stat">
                            <span>6ê°œì›”</span>
                            <strong class="pos">62.87%</strong>
                        </div>
                        <div class="stat">
                            <span>12ê°œì›”</span>
                            <strong class="pos">75.22%</strong>
                        </div>
                        <div class="stat">
                            <span>ëˆ„ì </span>
                            <strong class="pos">32.08%</strong>
                        </div>
                    </section>
                </div>

                <!-- ì¹´ë“œ 1ê°œ ì˜ˆì‹œ -->
                <div class="fund-item" data-id="1">
                    <!-- ë©”íƒ€ ë°ì´í„° -->
                    <section class="fund-item-section fund-meta">
                        <div class="fund-name-container">
                            <h3 class="fund-name">
                                ì‚¼ì„±KRX300 2ë°°ë ˆë²„ë¦¬ì§€ì¦ê¶Œíˆ¬ìì‹ íƒ
                            </h3>
                        </div>
                        <ul class="fund-detail">
                            <li>ì„¤ì •ì¼&nbsp;2021-09-29</li>
                            <li>ê¸°ì¤€ê°€&nbsp;1,303.92</li>
                            <li>ìˆœìì‚°&nbsp;45.2ì–µ</li>
                        </ul>
                        <div class="badge-list">
                            <span class="badge company">ì‚¼ì„±ìì‚°ìš´ìš©</span>
                            <span class="badge type">ì£¼ì‹í˜•</span>
                            <span class="badge region">ê¸€ë¡œë²Œ</span>
                            <span class="badge risk risk-2"
                                >ë†’ì€ìœ„í—˜(2ë“±ê¸‰)</span
                            >
                        </div>
                    </section>

                    <!-- ìˆ˜ìµë¥  -->
                    <section class="fund-item-section fund-return">
                        <div class="stat">
                            <span>1ê°œì›”</span>
                            <strong class="pos">22.81%</strong>
                        </div>
                        <div class="stat">
                            <span>3ê°œì›”</span>
                            <strong class="pos">69.95%</strong>
                        </div>
                        <div class="stat">
                            <span>6ê°œì›”</span>
                            <strong class="pos">62.87%</strong>
                        </div>
                        <div class="stat">
                            <span>12ê°œì›”</span>
                            <strong class="pos">75.22%</strong>
                        </div>
                        <div class="stat">
                            <span>ëˆ„ì </span>
                            <strong class="pos">32.08%</strong>
                        </div>
                    </section>
                </div>

                <!-- ì¹´ë“œ 1ê°œ ì˜ˆì‹œ -->
                <div class="fund-item" data-id="1">
                    <!-- ë©”íƒ€ ë°ì´í„° -->
                    <section class="fund-item-section fund-meta">
                        <div class="fund-name-container">
                            <h3 class="fund-name">
                                ì‚¼ì„±KRX300 2ë°°ë ˆë²„ë¦¬ì§€ì¦ê¶Œíˆ¬ìì‹ íƒ
                            </h3>
                        </div>
                        <ul class="fund-detail">
                            <li>ì„¤ì •ì¼&nbsp;2021-09-29</li>
                            <li>ê¸°ì¤€ê°€&nbsp;1,303.92</li>
                            <li>ìˆœìì‚°&nbsp;45.2ì–µ</li>
                        </ul>
                        <div class="badge-list">
                            <span class="badge company">ì‚¼ì„±ìì‚°ìš´ìš©</span>
                            <span class="badge type">ì£¼ì‹í˜•</span>
                            <span class="badge region">ê¸€ë¡œë²Œ</span>
                            <span class="badge risk risk-2"
                                >ë†’ì€ìœ„í—˜(2ë“±ê¸‰)</span
                            >
                        </div>
                    </section>

                    <!-- ìˆ˜ìµë¥  -->
                    <section class="fund-item-section fund-return">
                        <div class="stat">
                            <span>1ê°œì›”</span>
                            <strong class="pos">22.81%</strong>
                        </div>
                        <div class="stat">
                            <span>3ê°œì›”</span>
                            <strong class="pos">69.95%</strong>
                        </div>
                        <div class="stat">
                            <span>6ê°œì›”</span>
                            <strong class="pos">62.87%</strong>
                        </div>
                        <div class="stat">
                            <span>12ê°œì›”</span>
                            <strong class="pos">75.22%</strong>
                        </div>
                        <div class="stat">
                            <span>ëˆ„ì </span>
                            <strong class="pos">32.08%</strong>
                        </div>
                    </section>
                </div>
            </div>

            <!-- ë”ë³´ê¸° ë²„íŠ¼ ì˜ì—­ -->
            <div class="load-more-container">
                <button id="load-more-btn" class="load-more-btn">ë”ë³´ê¸°</button>
            </div>
        </div>

        <footer class="page-footer">
            <div class="footer-inner">
                <!-- íšŒì‚¬Â·ì„œë¹„ìŠ¤ ì •ë³´ -->
                <section class="footer-info">
                    <h4 class="footer-logo">FUND<span>INFO</span></h4>
                    <p>
                        (ì£¼) í€ë“œì¸í¬ &nbsp;|&nbsp; ëŒ€í‘œâ€¯í™ê¸¸ë™ &nbsp;|&nbsp;
                        ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸Â 123â€‘45â€‘67890<br />
                        ì„œìš¸íŠ¹ë³„ì‹œ ì˜ë“±í¬êµ¬ ì—¬ì˜ëŒ€ë¡œÂ 97Â 3F&nbsp;Â (Â ìš°Â 07320Â )
                    </p>
                    <p class="copyright">
                        Â©Â 2025Â FUNDINFOâ€¯Co.,Â Ltd. AllÂ rightsÂ reserved.
                    </p>
                </section>

                <!-- ë©”ë‰´ ë§í¬ -->
                <nav class="footer-nav">
                    <ul>
                        <li><a href="#">ì„œë¹„ìŠ¤ ì†Œê°œ</a></li>
                        <li><a href="#">ì´ìš©ì•½ê´€</a></li>
                        <li><a href="#">ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</a></li>
                        <li><a href="#">ê³ ê°ì„¼í„°</a></li>
                    </ul>
                </nav>

                <!-- SNS / ì—°ë½ì²˜ -->
                <section class="footer-contact">
                    <p>
                        <strong>ê³ ê°ì„¼í„°Â |Â 1588â€‘0000</strong
                        ><br />í‰ì¼Â 09:00â€‘18:00
                    </p>
                    <div class="sns">
                        <a href="#" aria-label="í˜ì´ìŠ¤ë¶">ğŸ“˜</a>
                        <a href="#" aria-label="íŠ¸ìœ„í„°">ğŸ¦</a>
                        <a href="#" aria-label="ë§í¬ë“œì¸">ğŸ’¼</a>
                    </div>
                </section>
            </div>
        </footer>

        <script>
            // ì „ì—­ ë³€ìˆ˜
            let currentPage = 1; // í˜„ì¬ ë¡œë”©í•  í˜ì´ì§€ ë²ˆí˜¸ë¥¼ ì €ì¥
            let pageSize = 10; // í˜ì´ì§€ì˜ ìµœëŒ€ ìš”ì²­ ê°¯ìˆ˜
            let isLoading = false; // í˜„ì¬ API í˜¸ì¶œ ì¤‘ì¸ì§€ ìƒíƒœë¥¼ ë‚˜íƒ€ë‚´ëŠ” í”Œë˜ê·¸
            let hasMoreData = true; // ë” ê°€ì ¸ì˜¬ ë°ì´í„°ê°€ ìˆëŠ”ì§€ ì—¬ë¶€ë¥¼ ë‚˜íƒ€ë‚´ëŠ” í”Œë˜ê·¸
            let investType = null; // ì‚¬ìš©ìì˜ íˆ¬ì ì„±í–¥ íƒ€ì… ë²ˆí˜¸ë¥¼ ì €ì¥
            let investTypeName = ""; // íˆ¬ì ì„±í–¥ íƒ€ì…ì˜ í•œê¸€ ì´ë¦„ì„ ì €ì¥

            // í˜ì´ì§€ ë¡œë“œ ì‹œ ì´ˆê¸°í™”
            // HTML ë¬¸ì„œê°€ ì™„ì „íˆ ë¡œë“œëœ í›„ ì´ˆê¸°í™” ì‘ì—… ìˆ˜í–‰
            document.addEventListener("DOMContentLoaded", function () {
                // Thymeleafì—ì„œ ì „ë‹¬ëœ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
                // ë©”íƒ€ íƒœê·¸ ê²€ìƒ‰: document.querySelector()ë¡œ HTMLì˜ ë©”íƒ€ íƒœê·¸ì—ì„œ íˆ¬ì ì„±í–¥ ì •ë³´ ì°¾ê¸°
                const investTypeElement = document.querySelector(
                    'meta[name="invest-type"]'
                );
                const userIdElement = document.querySelector(
                    'meta[name="user-id"]'
                );

                // ë°ì´í„° íŒŒì‹±: parseInt()ë¡œ ë¬¸ìì—´ì„ ìˆ«ìë¡œ ë³€í™˜í•˜ì—¬ investType ë³€ìˆ˜ì— ì €ì¥
                if (investTypeElement) {
                    investType = parseInt(
                        investTypeElement.getAttribute("content")
                    );
                }

                // íˆ¬ì ì„±í–¥ ì •ë³´ ì„¤ì •
                // setInvestTypeInfo() í˜¸ì¶œë¡œ í™”ë©´ì— í‘œì‹œí•  íˆ¬ì ì„±í–¥ ì´ë¦„ ì„¤ì •
                setInvestTypeInfo();

                // ì´ˆê¸° ë°ì´í„° ë¡œë“œ
                // loadMoreFunds() í˜¸ì¶œë¡œ ì²« ë²ˆì§¸ í˜ì´ì§€ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
                loadMoreFunds();
            });

            // íˆ¬ì ì„±í–¥ ì •ë³´ ì„¤ì •
            // íˆ¬ì ì„±í–¥ ìˆ«ìë¥¼ í•œê¸€ ì´ë¦„ìœ¼ë¡œ ë³€í™˜í•˜ì—¬ í™”ë©´ì— í‘œì‹œ
            function setInvestTypeInfo() {
                const investTypeNames = {
                    1: "ì•ˆì „ ì¶”êµ¬í˜•",
                    2: "ì•ˆì „ ì„ í˜¸í˜•",
                    3: "ìœ„í—˜ ì¤‘ë¦½í˜•",
                    4: "ì ê·¹ íˆ¬ìí˜•",
                    5: "ê³µê²© íˆ¬ìí˜•",
                };

                investTypeName = investTypeNames[investType] || "ì•Œ ìˆ˜ ì—†ìŒ";
                document.getElementById("investTypeName").textContent =
                    investTypeName;
            }

            // ë” ë§ì€ í€ë“œ ë¡œë“œ
            // ì„œë²„ì—ì„œ í€ë“œ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ í™”ë©´ì— ì¶”ê°€í•˜ëŠ” í•µì‹¬ í•¨ìˆ˜
            async function loadMoreFunds() {
                // ì¤‘ë³µ í˜¸ì¶œ ë°©ì§€
                if (isLoading || !hasMoreData) return;

                // ë¡œë”© ìƒíƒœ ì„¤ì •
                isLoading = true;
                showLoading(true);
                updateLoadMoreButton();

                try {
                    // API í˜¸ì¶œ
                    const response = await fetch(
                        `/api/funds/list?page=${currentPage}&limit=${pageSize}&investType=${investType}`
                    );
                    const data = await response.json();

                    if (data.success) {
                        // ì„±ê³µ ì‹œ ë°ì´í„° ì²˜ë¦¬
                        const funds = data.data.funds;
                        const pagination = data.pagination;

                        // í€ë“œ ëª©ë¡ ë Œë”ë§
                        renderFunds(funds);

                        // í˜ì´ì§€ ì •ë³´ ì—…ë°ì´íŠ¸
                        currentPage++;
                        hasMoreData = pagination.hasNext;

                        // ë”ë³´ê¸° ë²„íŠ¼ ìƒíƒœ ì—…ë°ì´íŠ¸
                        if (!hasMoreData) {
                            document.getElementById(
                                "loadMoreBtn"
                            ).style.display = "none";
                            document.getElementById(
                                "noMoreData"
                            ).style.display = "block";
                        }

                        // ì—ëŸ¬ ë©”ì‹œì§€ ì œê±°
                        clearErrorMessage();
                    } else {
                        // ì‹¤íŒ¨ ì‹œ ì—ëŸ¬ ì²˜ë¦¬
                        showErrorMessage(
                            data.message ||
                                "í€ë“œ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤."
                        );
                    }
                } catch (error) {
                    // ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ ì²˜ë¦¬
                    console.error("í€ë“œ ë¡œë“œ ì˜¤ë¥˜:", error);
                    showErrorMessage(
                        "ì„œë²„ ì—°ê²°ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”."
                    );
                } finally {
                    // ë¡œë”© ìƒíƒœ í•´ì œ
                    isLoading = false;
                    showLoading(false);
                    updateLoadMoreButton();
                }
            }

            // í€ë“œ ëª©ë¡ ë Œë”ë§
            // í€ë“œ ë°°ì—´ì„ ë°›ì•„ì„œ í™”ë©´ì— ë Œë”ë§
            function renderFunds(funds) {
                // í€ë“œ ëª©ë¡ì„ ë‹´ì„ ì»¨í…Œì´ë„ˆ ìš”ì†Œ ì°¾ê¸°
                const fundList = document.getElementById("fund-list");

                funds.forEach((fund) => {
                    // ê° í€ë“œì˜ HTML ìš”ì†Œ ìƒì„±
                    const fundElement = createFundElement(fund);
                    // ìƒì„±ëœ ìš”ì†Œë¥¼ ì»¨í…Œì´ë„ˆì— ì¶”ê°€
                    fundList.appendChild(fundElement);
                });
            }

            // í€ë“œ ìš”ì†Œ ìƒì„±
            // ê°œë³„ í€ë“œ ë°ì´í„°ë¥¼ HTML ìš”ì†Œë¡œ ë³€í™˜
            function createFundElement(fund) {
                const fundDiv = document.createElement("div"); // div ìš”ì†Œ ìƒì„±
                fundDiv.className = "fund-item"; // í´ë˜ìŠ¤ fund-item ì ìš©

                // ìˆ˜ìµë¥  í´ë˜ìŠ¤ ê²°ì •
                // ê¸°ê°„ë³„ ìˆ˜ìµë¥ 
                const return1mStatClassName =
                    fund.return1m >= 0 ? "pos" : "neg";
                const return3mStatClassName =
                    fund.return3m >= 0 ? "pos" : "neg";
                const return6mStatClassName =
                    fund.return6m >= 0 ? "pos" : "neg";
                const return12mStatClassName =
                    fund.return12m >= 0 ? "pos" : "neg";

                // í€ë“œID ì¶”ì¶œ

                // í€ë“œëª… ì¶”ì¶œ
                // ì„¤ì •ì¼ ì¶”ì¶œ
                // ê¸°ì¤€ê°€ ì¶”ì¶œ
                // ìˆœìì‚° ì¶”ì¶œ

                // ìš´ìš©ì‚¬ ì¶”ì¶œ
                // í€ë“œ ìœ í˜• ì¶”ì¶œ
                // íˆ¬ì ì§€ì—­ ì¶”ì¶œ
                //

                const returnClass =
                    fund.return1Year >= 0
                        ? "return-positive"
                        : "return-negative";
                const returnSign = fund.return1Year >= 0 ? "+" : "";

                fundDiv.innerHTML = `
                    <div class="fund-header">
                        <div>
                            <div class="fund-name">${fund.fundName}</div>
                            <div class="fund-company">${fund.company}</div>
                        </div>
                        <div class="fund-type">${fund.fundType}</div>
                    </div>
                    <div class="fund-details">
                        <div class="detail-item">
                            <span class="detail-label">ê¸°ì¤€ê°€</span>
                            <span class="detail-value">${formatNumber(
                                fund.basePrice
                            )}ì›</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">ì „ì¼ëŒ€ë¹„</span>
                            <span class="detail-value ${returnClass}">${returnSign}${formatNumber(
                    fund.dailyChange
                )}ì›</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">1ë…„ ìˆ˜ìµë¥ </span>
                            <span class="detail-value ${returnClass}">${returnSign}${
                    fund.return1Year
                }%</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">ìœ„í—˜ë“±ê¸‰</span>
                            <span class="detail-value">${
                                fund.riskLevel
                            }ë“±ê¸‰</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">íˆ¬ìì§€ì—­</span>
                            <span class="detail-value">${
                                fund.investmentRegion
                            }</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">ìµœì†Œê°€ì…ê¸ˆì•¡</span>
                            <span class="detail-value">${formatNumber(
                                fund.minInvestAmount
                            )}ì›</span>
                        </div>
                    </div>
                `;

                return fundDiv;
            }

            // ìˆ«ì í¬ë§·íŒ…
            function formatNumber(number) {
                return new Intl.NumberFormat("ko-KR").format(number);
            }

            // ë¡œë”© ìƒíƒœ í‘œì‹œ
            function showLoading(show) {
                const loading = document.getElementById("loading");
                if (show) {
                    loading.classList.add("show");
                } else {
                    loading.classList.remove("show");
                }
            }

            // ë”ë³´ê¸° ë²„íŠ¼ ìƒíƒœ ì—…ë°ì´íŠ¸
            function updateLoadMoreButton() {
                const loadMoreBtn = document.getElementById("loadMoreBtn");
                loadMoreBtn.disabled = isLoading;
                loadMoreBtn.textContent = isLoading ? "ë¡œë”© ì¤‘..." : "ë”ë³´ê¸°";
            }

            // ì—ëŸ¬ ë©”ì‹œì§€ í‘œì‹œ
            function showErrorMessage(message) {
                const errorContainer =
                    document.getElementById("errorContainer");
                errorContainer.innerHTML = `
                <div class="error-message">
                    ${message}
                </div>
            `;
            }

            // ì—ëŸ¬ ë©”ì‹œì§€ ì œê±°
            function clearErrorMessage() {
                const errorContainer =
                    document.getElementById("errorContainer");
                errorContainer.innerHTML = "";
            }

            // ë¬´í•œ ìŠ¤í¬ë¡¤ ì˜µì…˜ (ì„ íƒì‚¬í•­)
            // window.addEventListener('scroll', function() {
            //     if (window.innerHeight + window.scrollY >= document.body.offsetHeight - 1000) {
            //         loadMoreFunds();
            //     }
            // });
        </script>
    </body>
</html>
