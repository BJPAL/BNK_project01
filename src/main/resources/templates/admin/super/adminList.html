<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Admin List</title>
</head>
<body>
<div th:fragment="admin-list-content">
    <table border="1">
        <thead>
        <tr>
            <th>No.</th>
            <th>이름</th>
            <th>아이디</th>
            <th>권한</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="admin, stat : ${adminList}">
            <td th:text="${stat.index + 1}"></td> <!-- 0부터 시작하므로 +1 -->
            <td>
                <a href="#" class="open-modal" th:data-id="${admin.admin_id}" th:text="${admin.name}"></a>
            </td>
            <td th:text="${admin.adminname}"></td>
            <td th:text="${admin.role}"></td>
        </tr>
        </tbody>
    </table>
</div>

<div th:fragment="admin-modify-modal">
    <h3>관리자 상세 정보</h3>
    <form id="adminEditForm">
        <input type="hidden" id="editAdminId" th:value="${admin.admin_id}">

        <p>이름: <span id="editName" th:text="${admin.name}"></span></p>
        <p>아이디: <span id="editAdminname" th:text="${admin.adminname}"></span></p>
        <p>권한:
            <select id="editRole">
                <option value="super" th:selected="${admin.role == 'super'}">Super</option>
                <option value="planner" th:selected="${admin.role == 'planner'}">Planner</option>
                <option value="approver" th:selected="${admin.role == 'approver'}">Approver</option>
                <option value="cs" th:selected="${admin.role == 'cs'}">CS 관리자</option>
            </select>
        </p>

        <button type="button" id="submitEditBtn">수정</button>
        <button type="button" id="deleteAdminBtn" class="btn-delete">삭제</button>
        <button type="button" id="closeModalBtn">X</button>
    </form>
</div>
</body>
</html>